import{a as Me,b as ht}from"../chunk-SUIMTY7E.js";import{A as Je,B as F,C as A,E as be,F as xe,G as we,H as Nt,J as Ct,K as Mt,L as Xe,M as se,N as Ft,O as At,b as pt,c as S,d as Qe,e as q,f as bt,g as b,h as ye,i as De,j as xt,k as ue,l as X,m as ne,n as wt,o as ae,p as Pt,s as Z,u as he,v as Et,w as St,x as Tt,y as kt,z as O}from"../chunk-EFBPYIBU.js";import{A as vt,B as Ce,C as yt,G as Dt,I as Lt,J as It,K as Rt,L as Ot,M as Ze,N as Ir,d as m,e as P,f as Dr,g as Lr,h as de,i as C,p as re,s as oe,t as ft,u as gt,w as Y}from"../chunk-C6QEJELF.js";var gr=m(Lr());var le=m(de());var Le=m(P()),Pe=m(de()),ce=m(C()),Rr=({name:e,defaultState:t=!0})=>{let[r,o]=(0,Le.useState)(!0);return(0,Le.useEffect)(()=>{Pe.default.storage.local.get(e).then(s=>{s[e]===void 0?Pe.default.storage.local.set({[e]:t}):o(s[e])})},[]),(0,ce.jsx)("div",{children:(0,ce.jsxs)("label",{className:"flex items-center space-x-3",children:[(0,ce.jsx)("input",{type:"checkbox",name:"",id:"",className:"form-checkbox h-5 w-5 text-primary-500",checked:r,onChange:async()=>{await Pe.default.storage.local.set({[e]:!r}),o(!r)}}),(0,ce.jsx)("span",{className:"text-sm font-medium leading-6 text-gray-900 dark:text-gray-200",children:Pe.default.i18n.getMessage(e)})]})})},Ie=Rr;var Oe=m(P());var Ht=m(de());var ee=m(C());function et({defaultValue:e,apiKey:t,showLabel:r=!0,provider:o}){let{data:a,error:s,isLoading:l}=Me(t,o);return l?(0,ee.jsx)("div",{children:"Loading..."}):s?(0,ee.jsx)("div",{className:"prose prose-sm prose-primary flex grow flex-col dark:prose-invert",children:"Could not fetch models. Please check your API key."}):a?(0,ee.jsxs)("div",{children:[r&&(0,ee.jsx)("label",{htmlFor:"model",className:"block text-sm font-medium leading-6 text-gray-900",children:"Model"}),(0,ee.jsx)("select",{id:"model",name:"model",className:"mt-2 block w-full rounded-md border-0 py-1.5 pl-3 pr-10 text-gray-900 ring-1 ring-inset ring-gray-300 focus:ring-2 focus:ring-primary-600 sm:text-sm sm:leading-6",defaultValue:e??Y.getDefaultModel(o,{models:a}),required:!0,children:a?.filter(n=>vt.includes(n.slug)).map(n=>(0,ee.jsx)("option",{value:n.slug,children:n.slug},n.slug))})]}):null}var Bt=m(de());var $=m(C());async function Or(e){let t=await fetch(e),r=t.json();if(!t.ok)throw new Error(r?.detail?.message||"Unknown Error");return r}function Fr(){return oe(gt.endpoint+"/api/auth/session",Or)}function Re({defaultValue:e,showLabel:t=!0,disabled:r=!1,providerId:o}){let{data:a,isLoading:s,error:l}=Fr(),{data:n,isLoading:d,error:g}=Me(a?.accessToken,o),u=Y.getConfig(o);return g&&console.log("error",g),l&&console.log("error",l),s||d?(0,$.jsx)("div",{children:"Loading..."}):a?n?(0,$.jsxs)("div",{children:[t&&(0,$.jsx)("label",{htmlFor:"model",className:"ml-2 block text-sm font-medium leading-6 text-gray-900 dark:text-gray-200",children:"Model"}),(0,$.jsx)("select",{id:"model",name:"model",className:"block w-full rounded-md border-0 py-1.5 pl-3 pr-10 text-gray-900 ring-1 ring-inset ring-gray-300 focus:ring-2 focus:ring-primary-600 sm:text-sm sm:leading-6",defaultValue:e??Y.getDefaultModel(o,{models:n}),required:!0,disabled:r,children:n.map(f=>(0,$.jsx)("option",{value:f.slug,children:f.title},f.slug))})]}):null:(0,$.jsx)("div",{className:"prose prose-sm prose-primary flex grow flex-col dark:prose-invert",children:(0,$.jsx)("span",{dangerouslySetInnerHTML:{__html:Bt.default.i18n.getMessage(u.updateLoginMessage).replaceAll("<a>",`<a href="${u.endpoint}" target="_blank" rel="noreferrer">`)}})})}var h=m(C());function Ar({config:e}){let[t,r]=(0,Oe.useState)(e.apiKey),[o,a]=(0,Oe.useState)(e.provider),[s,l]=(0,Oe.useState)(!1),n=Y.getConfig(o),d=async u=>{u.preventDefault();let f=new FormData(u.currentTarget),M=f.get("provider"),E=f.get("model")||Y.getDefaultModel(M),D=n.authType==="login"?"":f.get("apiKey")||"";console.debug("provider",M),console.debug("model",E),console.debug("apiKey",D),await yt({provider:M,model:E,apiKey:D}),re("isOpenAPIUser"),re("question-settings"),S.success("Changes saved")},g=()=>n.authType==="login"?(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(ht,{onLoginStatusChange:l}),s&&(0,h.jsx)(Re,{defaultValue:e.model,providerId:o})]}):n.needAPIKey?(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)("div",{children:[(0,h.jsx)("label",{htmlFor:"apiKey",className:"block text-sm font-medium leading-6 text-gray-900 dark:text-gray-200",children:"API Key"}),(0,h.jsx)("div",{className:"mt-2",children:(0,h.jsx)("input",{type:"text",name:"apiKey",id:"apiKey",value:t,onChange:u=>r(u.target.value),required:!0,className:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-primary-600 sm:text-sm sm:leading-6"})})]}),(0,h.jsx)(et,{apiKey:t,defaultValue:e.model,provider:o})]}):(0,h.jsx)(Re,{defaultValue:e.model,providerId:o});return(0,h.jsxs)("form",{onSubmit:d,className:"flex flex-col gap-3 text-sm",children:[(0,h.jsxs)("div",{children:[(0,h.jsx)("label",{htmlFor:"provider",className:"block text-sm font-medium leading-6 text-gray-900 dark:text-gray-200",children:"Provider"}),(0,h.jsx)("select",{id:"provider",name:"provider",required:!0,className:"mt-2 block w-full rounded-md border-0 py-1.5 pl-3 pr-10 text-gray-900 ring-1 ring-inset ring-gray-300 focus:ring-2 focus:ring-primary-600 sm:text-sm sm:leading-6",value:o,onChange:u=>a(u.target.value),children:Y.getList().map(u=>(0,h.jsx)("option",{value:u.id,children:u.title},u.id))})]}),g(),(n.authType!=="login"||n.authType==="login"&&s)&&(0,h.jsx)("div",{children:(0,h.jsx)("button",{className:"items-center rounded-md border border-transparent bg-primary-500 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2",children:Ht.default.i18n.getMessage("save")})})]})}function tt(){let{data:e,isLoading:t}=oe("provider-configs",Ce);return t||!e?(0,h.jsx)(ft,{}):(0,h.jsx)(Ar,{config:e})}var qt=m(P(),1);function j(...e){return(0,qt.useMemo)(()=>wt(...e),[...e])}var Fe=m(P(),1);function Ae(e,t){let r=(0,Fe.useRef)([]),o=b(e);(0,Fe.useEffect)(()=>{let a=[...r.current];for(let[s,l]of t.entries())if(r.current[s]!==l){let n=o(t,a);return r.current=t,n}},[o,...t])}function Wt(e){function t(){document.readyState!=="loading"&&(e(),document.removeEventListener("DOMContentLoaded",t))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",t),t())}var Q=[];Wt(()=>{function e(t){t.target instanceof HTMLElement&&t.target!==document.body&&Q[0]!==t.target&&(Q.unshift(t.target),Q=Q.filter(r=>r!=null&&r.isConnected),Q.splice(10))}window.addEventListener("click",e,{capture:!0}),window.addEventListener("mousedown",e,{capture:!0}),window.addEventListener("focus",e,{capture:!0}),document.body.addEventListener("click",e,{capture:!0}),document.body.addEventListener("mousedown",e,{capture:!0}),document.body.addEventListener("focus",e,{capture:!0})});var p=m(P(),1);var V=m(P(),1);var Gt=m(P(),1);function Be(e,t,r,o){let a=bt(r);(0,Gt.useEffect)(()=>{e=e??window;function s(l){a.current(l)}return e.addEventListener(t,s,o),()=>e.removeEventListener(t,s,o)},[e,t,o])}var He=m(P(),1);function qe(e){let t=b(e),r=(0,He.useRef)(!1);(0,He.useEffect)(()=>(r.current=!1,()=>{r.current=!0,ye(()=>{r.current&&t()})}),[t])}var Ut=m(P(),1);var me=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(me||{});function Kt(){let e=(0,Ut.useRef)(0);return St("keydown",t=>{t.key==="Tab"&&(e.current=t.shiftKey?1:0)},!0),e}function Vt(e){if(!e)return new Set;if(typeof e=="function")return new Set(e());let t=new Set;for(let r of e.current)r.current instanceof HTMLElement&&t.add(r.current);return t}var Br="div",_t=(e=>(e[e.None=1]="None",e[e.InitialFocus=2]="InitialFocus",e[e.TabLock=4]="TabLock",e[e.FocusLock=8]="FocusLock",e[e.RestoreFocus=16]="RestoreFocus",e[e.All=30]="All",e))(_t||{});function Hr(e,t){let r=(0,V.useRef)(null),o=O(r,t),{initialFocus:a,containers:s,features:l=30,...n}=e;ue()||(l=1);let d=j(r);Gr({ownerDocument:d},!!(l&16));let g=Ur({ownerDocument:d,container:r,initialFocus:a},!!(l&2));Kr({ownerDocument:d,container:r,containers:s,previousActiveElement:g},!!(l&8));let u=Kt(),f=b(R=>{let k=r.current;k&&(U=>U())(()=>{ne(u.current,{[me.Forwards]:()=>{he(k,ae.First,{skipElements:[R.relatedTarget]})},[me.Backwards]:()=>{he(k,ae.Last,{skipElements:[R.relatedTarget]})}})})}),M=xt(),E=(0,V.useRef)(!1),D={ref:o,onKeyDown(R){R.key=="Tab"&&(E.current=!0,M.requestAnimationFrame(()=>{E.current=!1}))},onBlur(R){let k=Vt(s);r.current instanceof HTMLElement&&k.add(r.current);let U=R.relatedTarget;U instanceof HTMLElement&&U.dataset.headlessuiFocusGuard!=="true"&&(zt(k,U)||(E.current?he(r.current,ne(u.current,{[me.Forwards]:()=>ae.Next,[me.Backwards]:()=>ae.Previous})|ae.WrapAround,{relativeTo:R.target}):R.target instanceof HTMLElement&&Z(R.target)))}};return V.default.createElement(V.default.Fragment,null,!!(l&4)&&V.default.createElement(xe,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:f,features:be.Focusable}),F({ourProps:D,theirProps:n,defaultTag:Br,name:"FocusTrap"}),!!(l&4)&&V.default.createElement(xe,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:f,features:be.Focusable}))}var qr=A(Hr),pe=Object.assign(qr,{features:_t});function Wr(e=!0){let t=(0,V.useRef)(Q.slice());return Ae(([r],[o])=>{o===!0&&r===!1&&ye(()=>{t.current.splice(0)}),o===!1&&r===!0&&(t.current=Q.slice())},[e,Q,t]),b(()=>{var r;return(r=t.current.find(o=>o!=null&&o.isConnected))!=null?r:null})}function Gr({ownerDocument:e},t){let r=Wr(t);Ae(()=>{t||e?.activeElement===e?.body&&Z(r())},[t]),qe(()=>{t&&Z(r())})}function Ur({ownerDocument:e,container:t,initialFocus:r},o){let a=(0,V.useRef)(null),s=Xe();return Ae(()=>{if(!o)return;let l=t.current;l&&ye(()=>{if(!s.current)return;let n=e?.activeElement;if(r!=null&&r.current){if(r?.current===n){a.current=n;return}}else if(l.contains(n)){a.current=n;return}r!=null&&r.current?Z(r.current):he(l,ae.First)===Pt.Error&&console.warn("There are no focusable elements inside the <FocusTrap />"),a.current=e?.activeElement})},[o]),a}function Kr({ownerDocument:e,container:t,containers:r,previousActiveElement:o},a){let s=Xe();Be(e?.defaultView,"focus",l=>{if(!a||!s.current)return;let n=Vt(r);t.current instanceof HTMLElement&&n.add(t.current);let d=o.current;if(!d)return;let g=l.target;g&&g instanceof HTMLElement?zt(n,g)?(o.current=g,Z(g)):(l.preventDefault(),l.stopPropagation(),Z(d)):Z(o.current)},!0)}function zt(e,t){for(let r of e)if(r.contains(t))return!0;return!1}var v=m(P(),1),jt=m(Dr(),1);var fe=m(P(),1),Yt=(0,fe.createContext)(!1);function $t(){return(0,fe.useContext)(Yt)}function We(e){return fe.default.createElement(Yt.Provider,{value:e.force},e.children)}function Vr(e){let t=$t(),r=(0,v.useContext)(Qt),o=j(e),[a,s]=(0,v.useState)(()=>{if(!t&&r!==null||Qe.isServer)return null;let l=o?.getElementById("headlessui-portal-root");if(l)return l;if(o===null)return null;let n=o.createElement("div");return n.setAttribute("id","headlessui-portal-root"),o.body.appendChild(n)});return(0,v.useEffect)(()=>{a!==null&&(o!=null&&o.body.contains(a)||o==null||o.body.appendChild(a))},[a,o]),(0,v.useEffect)(()=>{t||r!==null&&s(r.current)},[r,s,t]),a}var _r=v.Fragment;function zr(e,t){let r=e,o=(0,v.useRef)(null),a=O(kt(u=>{o.current=u}),t),s=j(o),l=Vr(o),[n]=(0,v.useState)(()=>{var u;return Qe.isServer?null:(u=s?.createElement("div"))!=null?u:null}),d=(0,v.useContext)(rt),g=ue();return q(()=>{!l||!n||l.contains(n)||(n.setAttribute("data-headlessui-portal",""),l.appendChild(n))},[l,n]),q(()=>{if(n&&d)return d.register(n)},[d,n]),qe(()=>{var u;!l||!n||(n instanceof Node&&l.contains(n)&&l.removeChild(n),l.childNodes.length<=0&&((u=l.parentElement)==null||u.removeChild(l)))}),g?!l||!n?null:(0,jt.createPortal)(F({ourProps:{ref:a},theirProps:r,defaultTag:_r,name:"Portal"}),n):null}var Yr=v.Fragment,Qt=(0,v.createContext)(null);function $r(e,t){let{target:r,...o}=e,a={ref:O(t)};return v.default.createElement(Qt.Provider,{value:r},F({ourProps:a,theirProps:o,defaultTag:Yr,name:"Popover.Group"}))}var rt=(0,v.createContext)(null);function Jt(){let e=(0,v.useContext)(rt),t=(0,v.useRef)([]),r=b(s=>(t.current.push(s),e&&e.register(s),()=>o(s))),o=b(s=>{let l=t.current.indexOf(s);l!==-1&&t.current.splice(l,1),e&&e.unregister(s)}),a=(0,v.useMemo)(()=>({register:r,unregister:o,portals:t}),[r,o,t]);return[t,(0,v.useMemo)(()=>function({children:s}){return v.default.createElement(rt.Provider,{value:a},s)},[a])]}var jr=A(zr),Qr=A($r),Ge=Object.assign(jr,{Group:Qr});var er=m(P(),1);var Jr=m(P(),1);function Xr(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Zr=typeof Object.is=="function"?Object.is:Xr,{useState:eo,useEffect:to,useLayoutEffect:ro,useDebugValue:oo}=Jr;function Xt(e,t,r){let o=t(),[{inst:a},s]=eo({inst:{value:o,getSnapshot:t}});return ro(()=>{a.value=o,a.getSnapshot=t,ot(a)&&s({inst:a})},[e,o,t]),to(()=>(ot(a)&&s({inst:a}),e(()=>{ot(a)&&s({inst:a})})),[e]),oo(o),o}function ot(e){let t=e.getSnapshot,r=e.value;try{let o=t();return!Zr(r,o)}catch{return!0}}function Zt(e,t,r){return t()}var no=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ao=!no,so=ao?Zt:Xt,tr="useSyncExternalStore"in er?(e=>e.useSyncExternalStore)(er):so;function rr(e){return tr(e.subscribe,e.getSnapshot,e.getSnapshot)}function or(e,t){let r=e(),o=new Set;return{getSnapshot(){return r},subscribe(a){return o.add(a),()=>o.delete(a)},dispatch(a,...s){let l=t[a].call(r,...s);l&&(r=l,o.forEach(n=>n()))}}}function nr(){let e;return{before({doc:t}){var r;let o=t.documentElement;e=((r=t.defaultView)!=null?r:window).innerWidth-o.clientWidth},after({doc:t,d:r}){let o=t.documentElement,a=o.clientWidth-o.offsetWidth,s=e-a;r.style(o,"paddingRight",`${s}px`)}}}function ar(){return Et()?{before({doc:e,d:t,meta:r}){function o(a){return r.containers.flatMap(s=>s()).some(s=>s.contains(a))}t.microTask(()=>{var a;if(window.getComputedStyle(e.documentElement).scrollBehavior!=="auto"){let n=De();n.style(e.documentElement,"scrollBehavior","auto"),t.add(()=>t.microTask(()=>n.dispose()))}let s=(a=window.scrollY)!=null?a:window.pageYOffset,l=null;t.addEventListener(e,"click",n=>{if(n.target instanceof HTMLElement)try{let d=n.target.closest("a");if(!d)return;let{hash:g}=new URL(d.href),u=e.querySelector(g);u&&!o(u)&&(l=u)}catch{}},!0),t.addEventListener(e,"touchstart",n=>{if(n.target instanceof HTMLElement)if(o(n.target)){let d=n.target;for(;d.parentElement&&o(d.parentElement);)d=d.parentElement;t.style(d,"overscrollBehavior","contain")}else t.style(n.target,"touchAction","none")}),t.addEventListener(e,"touchmove",n=>{if(n.target instanceof HTMLElement)if(o(n.target)){let d=n.target;for(;d.parentElement&&d.dataset.headlessuiPortal!==""&&!(d.scrollHeight>d.clientHeight||d.scrollWidth>d.clientWidth);)d=d.parentElement;d.dataset.headlessuiPortal===""&&n.preventDefault()}else n.preventDefault()},{passive:!1}),t.add(()=>{var n;let d=(n=window.scrollY)!=null?n:window.pageYOffset;s!==d&&window.scrollTo(0,s),l&&l.isConnected&&(l.scrollIntoView({block:"nearest"}),l=null)})})}}:{}}function sr(){return{before({doc:e,d:t}){t.style(e.documentElement,"overflow","hidden")}}}function io(e){let t={};for(let r of e)Object.assign(t,r(t));return t}var te=or(()=>new Map,{PUSH(e,t){var r;let o=(r=this.get(e))!=null?r:{doc:e,count:0,d:De(),meta:new Set};return o.count++,o.meta.add(t),this.set(e,o),this},POP(e,t){let r=this.get(e);return r&&(r.count--,r.meta.delete(t)),this},SCROLL_PREVENT({doc:e,d:t,meta:r}){let o={doc:e,d:t,meta:io(r)},a=[ar(),nr(),sr()];a.forEach(({before:s})=>s?.(o)),a.forEach(({after:s})=>s?.(o))},SCROLL_ALLOW({d:e}){e.dispose()},TEARDOWN({doc:e}){this.delete(e)}});te.subscribe(()=>{let e=te.getSnapshot(),t=new Map;for(let[r]of e)t.set(r,r.documentElement.style.overflow);for(let r of e.values()){let o=t.get(r.doc)==="hidden",a=r.count!==0;(a&&!o||!a&&o)&&te.dispatch(r.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",r),r.count===0&&te.dispatch("TEARDOWN",r)}});function ir(e,t,r){let o=rr(te),a=e?o.get(e):void 0,s=a?a.count>0:!1;return q(()=>{if(!(!e||!t))return te.dispatch("PUSH",e,r),()=>te.dispatch("POP",e,r)},[t,e]),s}var nt=new Map,Ee=new Map;function at(e,t=!0){q(()=>{var r;if(!t)return;let o=typeof e=="function"?e():e.current;if(!o)return;function a(){var l;if(!o)return;let n=(l=Ee.get(o))!=null?l:1;if(n===1?Ee.delete(o):Ee.set(o,n-1),n!==1)return;let d=nt.get(o);d&&(d["aria-hidden"]===null?o.removeAttribute("aria-hidden"):o.setAttribute("aria-hidden",d["aria-hidden"]),o.inert=d.inert,nt.delete(o))}let s=(r=Ee.get(o))!=null?r:0;return Ee.set(o,s+1),s!==0||(nt.set(o,{"aria-hidden":o.getAttribute("aria-hidden"),inert:o.inert}),o.setAttribute("aria-hidden","true"),o.inert=!0),a},[e,t])}var ge=m(P(),1);function lr({defaultContainers:e=[],portals:t,mainTreeNodeRef:r}={}){var o;let a=(0,ge.useRef)((o=r?.current)!=null?o:null),s=j(a),l=b(()=>{var n,d,g;let u=[];for(let f of e)f!==null&&(f instanceof HTMLElement?u.push(f):"current"in f&&f.current instanceof HTMLElement&&u.push(f.current));if(t!=null&&t.current)for(let f of t.current)u.push(f);for(let f of(n=s?.querySelectorAll("html > *, body > *"))!=null?n:[])f!==document.body&&f!==document.head&&f instanceof HTMLElement&&f.id!=="headlessui-portal-root"&&(f.contains(a.current)||f.contains((g=(d=a.current)==null?void 0:d.getRootNode())==null?void 0:g.host)||u.some(M=>f.contains(M))||u.push(f));return u});return{resolveContainers:l,contains:b(n=>l().some(d=>d.contains(n))),mainTreeNodeRef:a,MainTreeNode:(0,ge.useMemo)(()=>function(){return r!=null?null:ge.default.createElement(xe,{features:be.Hidden,ref:a})},[a,r])}}var ve=m(P(),1);var st=(0,ve.createContext)(()=>{});st.displayName="StackContext";var Ue=(e=>(e[e.Add=0]="Add",e[e.Remove=1]="Remove",e))(Ue||{});function lo(){return(0,ve.useContext)(st)}function dr({children:e,onUpdate:t,type:r,element:o,enabled:a}){let s=lo(),l=b((...n)=>{t?.(...n),s(...n)});return q(()=>{let n=a===void 0||a===!0;return n&&l(0,r,o),()=>{n&&l(1,r,o)}},[l,r,o,a]),ve.default.createElement(st.Provider,{value:l},e)}var W=m(P(),1);var ur=(0,W.createContext)(null);function cr(){let e=(0,W.useContext)(ur);if(e===null){let t=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,cr),t}return e}function mr(){let[e,t]=(0,W.useState)([]);return[e.length>0?e.join(" "):void 0,(0,W.useMemo)(()=>function(r){let o=b(s=>(t(l=>[...l,s]),()=>t(l=>{let n=l.slice(),d=n.indexOf(s);return d!==-1&&n.splice(d,1),n}))),a=(0,W.useMemo)(()=>({register:o,slot:r.slot,name:r.name,props:r.props}),[o,r.slot,r.name,r.props]);return W.default.createElement(ur.Provider,{value:a},r.children)},[t])]}var uo="p";function co(e,t){let r=X(),{id:o=`headlessui-description-${r}`,...a}=e,s=cr(),l=O(t);q(()=>s.register(o),[o,s.register]);let n={ref:l,...s.props,id:o};return F({ourProps:n,theirProps:a,slot:s.slot||{},defaultTag:uo,name:s.name||"Description"})}var mo=A(co),pr=Object.assign(mo,{});var po=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(po||{}),fo=(e=>(e[e.SetTitleId=0]="SetTitleId",e))(fo||{}),go={0(e,t){return e.titleId===t.id?e:{...e,titleId:t.id}}},Ke=(0,p.createContext)(null);Ke.displayName="DialogContext";function Se(e){let t=(0,p.useContext)(Ke);if(t===null){let r=new Error(`<${e} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,Se),r}return t}function vo(e,t,r=()=>[document.body]){ir(e,t,o=>{var a;return{containers:[...(a=o.containers)!=null?a:[],r]}})}function yo(e,t){return ne(t.type,go,e,t)}var ho="div",bo=Je.RenderStrategy|Je.Static;function xo(e,t){let r=X(),{id:o=`headlessui-dialog-${r}`,open:a,onClose:s,initialFocus:l,role:n="dialog",__demoMode:d=!1,...g}=e,[u,f]=(0,p.useState)(0),M=(0,p.useRef)(!1);n=function(){return n==="dialog"||n==="alertdialog"?n:(M.current||(M.current=!0,console.warn(`Invalid role [${n}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")}();let E=Nt();a===void 0&&E!==null&&(a=(E&we.Open)===we.Open);let D=(0,p.useRef)(null),R=O(D,t),k=j(D),U=e.hasOwnProperty("open")||E!==null,Te=e.hasOwnProperty("onClose");if(!U&&!Te)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!U)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!Te)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(typeof a!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${a}`);if(typeof s!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${s}`);let L=a?0:1,[c,y]=(0,p.useReducer)(yo,{titleId:null,descriptionId:null,panelRef:(0,p.createRef)()}),N=b(()=>s(!1)),_=b(w=>y({type:0,id:w})),I=ue()?d?!1:L===0:!1,K=u>1,Ye=(0,p.useContext)(Ke)!==null,[$e,J]=Jt(),hr={get current(){var w;return(w=c.panelRef.current)!=null?w:D.current}},{resolveContainers:je,mainTreeNodeRef:ke,MainTreeNode:br}=lr({portals:$e,defaultContainers:[hr]}),xr=K?"parent":"leaf",ct=E!==null?(E&we.Closing)===we.Closing:!1,wr=Ye||ct?!1:I,Pr=(0,p.useCallback)(()=>{var w,z;return(z=Array.from((w=k?.querySelectorAll("body > *"))!=null?w:[]).find(B=>B.id==="headlessui-portal-root"?!1:B.contains(ke.current)&&B instanceof HTMLElement))!=null?z:null},[ke]);at(Pr,wr);let Er=K?!0:I,Sr=(0,p.useCallback)(()=>{var w,z;return(z=Array.from((w=k?.querySelectorAll("[data-headlessui-portal]"))!=null?w:[]).find(B=>B.contains(ke.current)&&B instanceof HTMLElement))!=null?z:null},[ke]);at(Sr,Er),Tt(je,w=>{w.preventDefault(),N()},!(!I||K));let Tr=!(K||L!==0);Be(k?.defaultView,"keydown",w=>{Tr&&(w.defaultPrevented||w.key===Mt.Escape&&(w.preventDefault(),w.stopPropagation(),N()))}),vo(k,!(ct||L!==0||Ye),je),(0,p.useEffect)(()=>{if(L!==0||!D.current)return;let w=new ResizeObserver(z=>{for(let B of z){let Ne=B.target.getBoundingClientRect();Ne.x===0&&Ne.y===0&&Ne.width===0&&Ne.height===0&&N()}});return w.observe(D.current),()=>w.disconnect()},[L,D,N]);let[kr,Nr]=mr(),Cr=(0,p.useMemo)(()=>[{dialogState:L,close:N,setTitleId:_},c],[L,c,N,_]),mt=(0,p.useMemo)(()=>({open:L===0}),[L]),Mr={ref:R,id:o,role:n,"aria-modal":L===0?!0:void 0,"aria-labelledby":c.titleId,"aria-describedby":kr};return p.default.createElement(dr,{type:"Dialog",enabled:L===0,element:D,onUpdate:b((w,z)=>{z==="Dialog"&&ne(w,{[Ue.Add]:()=>f(B=>B+1),[Ue.Remove]:()=>f(B=>B-1)})})},p.default.createElement(We,{force:!0},p.default.createElement(Ge,null,p.default.createElement(Ke.Provider,{value:Cr},p.default.createElement(Ge.Group,{target:D},p.default.createElement(We,{force:!1},p.default.createElement(Nr,{slot:mt,name:"Dialog.Description"},p.default.createElement(pe,{initialFocus:l,containers:je,features:I?ne(xr,{parent:pe.features.RestoreFocus,leaf:pe.features.All&~pe.features.FocusLock}):pe.features.None},p.default.createElement(J,null,F({ourProps:Mr,theirProps:g,slot:mt,defaultTag:ho,features:bo,visible:L===0,name:"Dialog"}))))))))),p.default.createElement(br,null))}var wo="div";function Po(e,t){let r=X(),{id:o=`headlessui-dialog-overlay-${r}`,...a}=e,[{dialogState:s,close:l}]=Se("Dialog.Overlay"),n=O(t),d=b(u=>{if(u.target===u.currentTarget){if(Ct(u.currentTarget))return u.preventDefault();u.preventDefault(),u.stopPropagation(),l()}}),g=(0,p.useMemo)(()=>({open:s===0}),[s]);return F({ourProps:{ref:n,id:o,"aria-hidden":!0,onClick:d},theirProps:a,slot:g,defaultTag:wo,name:"Dialog.Overlay"})}var Eo="div";function So(e,t){let r=X(),{id:o=`headlessui-dialog-backdrop-${r}`,...a}=e,[{dialogState:s},l]=Se("Dialog.Backdrop"),n=O(t);(0,p.useEffect)(()=>{if(l.panelRef.current===null)throw new Error("A <Dialog.Backdrop /> component is being used, but a <Dialog.Panel /> component is missing.")},[l.panelRef]);let d=(0,p.useMemo)(()=>({open:s===0}),[s]);return p.default.createElement(We,{force:!0},p.default.createElement(Ge,null,F({ourProps:{ref:n,id:o,"aria-hidden":!0},theirProps:a,slot:d,defaultTag:Eo,name:"Dialog.Backdrop"})))}var To="div";function ko(e,t){let r=X(),{id:o=`headlessui-dialog-panel-${r}`,...a}=e,[{dialogState:s},l]=Se("Dialog.Panel"),n=O(t,l.panelRef),d=(0,p.useMemo)(()=>({open:s===0}),[s]),g=b(u=>{u.stopPropagation()});return F({ourProps:{ref:n,id:o,onClick:g},theirProps:a,slot:d,defaultTag:To,name:"Dialog.Panel"})}var No="h2";function Co(e,t){let r=X(),{id:o=`headlessui-dialog-title-${r}`,...a}=e,[{dialogState:s,setTitleId:l}]=Se("Dialog.Title"),n=O(t);(0,p.useEffect)(()=>(l(o),()=>l(null)),[o,l]);let d=(0,p.useMemo)(()=>({open:s===0}),[s]);return F({ourProps:{ref:n,id:o},theirProps:a,slot:d,defaultTag:No,name:"Dialog.Title"})}var Mo=A(xo),Do=A(So),Lo=A(ko),Io=A(Po),Ro=A(Co),ie=Object.assign(Mo,{Backdrop:Do,Panel:Lo,Overlay:Io,Title:Ro,Description:pr});var fr=m(Ir());var T=m(P());var G=m(de());var i=m(C()),Ve=[{name:"{{TITLE}}",description:"The title of the active website"},{name:"{{CONTENT}}",description:"The main text content of the active website"},{name:"{{URL}}",description:"The url of the active website"},{name:"{{SELECTED_LANGUAGE}}",description:"You can change this language directly inside of the popup."}];function Oo(){let e=oe("isOpenAPIUser",async()=>G.default.storage.local.get({apiKey:!1,provider:"web"}));return!!(e.data&&e.data.provider==="api"&&e.data.apiKey)}function it(){return Math.random().toString(36).substring(2)+Date.now().toString(36)}async function Fo(){let e=await G.default.storage.local.get(["question","systemMessage","promptSettings"]);if(e.promptSettings&&At(e.promptSettings))return e.promptSettings;let r=(await Ce()).model.startsWith("gpt-4"),o=G.default.i18n.getMessage(r?"defaultQuestionGPT4":"defaultQuestion"),a=G.default.i18n.getMessage("defaultSystemMessage"),s=e.question||o,l=e.systemMessage||a,n={id:it(),title:"Default Prompt",question:s,systemMessage:l},d={prompts:[n],activePromptId:n.id};return await G.default.storage.local.set({promptSettings:d}),d}function lt(){let e=Oo(),[t,r]=(0,T.useState)([]),[o,a]=(0,T.useState)(""),[s,l]=(0,T.useState)(!1),[n,d]=(0,T.useState)(null),[g,u]=(0,T.useState)(!1),f=(0,T.useRef)(null),M=oe("prompt-settings",Fo);(0,T.useEffect)(()=>{M.data&&(r(M.data.prompts),a(M.data.activePromptId))},[M.data]);let E=t.find(c=>c.id===o),D=()=>{let c={id:it(),title:"New Prompt",question:"Summarize the text I give you in an appropriate amount of concise bulletpoints. Your response should be in {{SELECTED_LANGUAGE}}. Use the following content: {{CONTENT}}",systemMessage:""};d(c),u(!0)},R=c=>{if(c.title==="Default Prompt"){S.error("Cannot edit the default prompt. Create a new prompt based on it instead.");return}d({...c}),u(!0)},k=c=>{let y={id:it(),title:`${c.title} (Copy)`,question:c.question,systemMessage:c.systemMessage};d(y),u(!0)},U=async c=>{let y=t.find(K=>K.id===c);if(t.length<=1){S.error("Cannot delete the last prompt");return}if(y?.title==="Default Prompt"){S.error("Cannot delete the default prompt");return}let N=t.filter(K=>K.id!==c),_=o;o===c&&(_=N[0].id);let I={prompts:N,activePromptId:_};await G.default.storage.local.set({promptSettings:I}),r(N),a(_),await re("settings"),S.success("Prompt deleted successfully!")},Te=async c=>{let y,N=t.findIndex(I=>I.id===c.id);N>=0?(y=[...t],y[N]=c):y=[...t,c];let _={prompts:y,activePromptId:o||c.id};await G.default.storage.local.set({promptSettings:_}),r(y),o||a(c.id),u(!1),d(null),await re("settings"),S.success("Prompt saved successfully!")},L=async c=>{let y={prompts:t,activePromptId:c};await G.default.storage.local.set({promptSettings:y}),a(c),await re("settings"),S.success("Active prompt changed!")};return(0,i.jsxs)("div",{className:"space-y-6",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsx)("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-200",children:"Prompt Management"}),(0,i.jsxs)("button",{type:"button",onClick:D,className:"inline-flex items-center rounded-md border border-transparent bg-primary-600 px-3 py-2 text-sm font-medium text-white shadow-sm hover:bg-primary-700",children:[(0,i.jsx)(Rt,{className:"mr-1 h-4 w-4"}),"Add Prompt"]})]}),(0,i.jsx)("div",{className:"space-y-4",children:t.map(c=>(0,i.jsx)("div",{className:(0,fr.default)("cursor-pointer rounded-lg border p-4 transition-colors",o===c.id?"border-primary-500 bg-primary-50 dark:bg-primary-900/20":"border-gray-300 hover:border-gray-400 dark:border-gray-600"),onClick:()=>L(c.id),children:(0,i.jsxs)("div",{className:"flex items-start justify-between",children:[(0,i.jsx)("div",{className:"flex-1",children:(0,i.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,i.jsx)("h4",{className:"text-sm font-medium text-gray-900 dark:text-gray-200",children:c.title}),(0,i.jsxs)("div",{className:"flex items-center space-x-2",children:[o===c.id&&(0,i.jsx)("span",{className:"inline-flex items-center rounded-full bg-primary-100 px-2.5 py-0.5 text-xs font-medium text-primary-800",children:"Active"}),c.title==="Default Prompt"&&(0,i.jsx)("span",{className:"inline-flex items-center rounded-full bg-green-100 px-2.5 py-0.5 text-xs font-medium text-green-800",children:"Default"})]})]})}),(0,i.jsx)("div",{className:"flex items-center space-x-2",children:c.title==="Default Prompt"?(0,i.jsx)("button",{type:"button",onClick:y=>{y.stopPropagation(),k(c)},className:"p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",title:"Create a copy of this prompt that you can edit",children:(0,i.jsx)(Dt,{className:"h-4 w-4"})}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("button",{type:"button",onClick:y=>{y.stopPropagation(),R(c)},className:"p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:(0,i.jsx)(It,{className:"h-4 w-4"})}),(0,i.jsx)("button",{type:"button",onClick:y=>{y.stopPropagation(),U(c.id)},className:"p-2 text-gray-400 hover:text-red-600",children:(0,i.jsx)(Ot,{className:"h-4 w-4"})})]})})]})},c.id))}),E&&(0,i.jsxs)("div",{className:"rounded-lg border border-gray-300 bg-gray-50 p-4 dark:border-gray-600 dark:bg-gray-800",children:[(0,i.jsx)("h4",{className:"mb-2 text-sm font-medium text-gray-900 dark:text-gray-200",children:"Active Prompt Preview"}),e&&E.systemMessage&&(0,i.jsxs)("div",{className:"mb-3",children:[(0,i.jsx)("label",{className:"block text-xs font-medium text-gray-700 dark:text-gray-300",children:"System Message:"}),(0,i.jsx)("div",{className:"mt-1 max-h-20 overflow-y-auto rounded border bg-white p-2 text-sm text-gray-600 dark:bg-gray-700 dark:text-gray-400",children:E.systemMessage})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-xs font-medium text-gray-700 dark:text-gray-300",children:"Question:"}),(0,i.jsx)("div",{className:"mt-1 max-h-32 overflow-y-auto rounded border bg-white p-2 text-sm text-gray-600 dark:bg-gray-700 dark:text-gray-400",children:E.question})]})]}),(0,i.jsxs)("div",{className:"mt-4 text-xs text-gray-500 dark:text-gray-400",children:["The question that should be send to ChatGPT. You can use the following placeholders:"," ",Ve.map(c=>(0,i.jsx)("code",{onClick:()=>{navigator.clipboard.writeText(c.name),S.success("Copied to clipboard!")},className:"m-0.5 mr-1 inline-block cursor-pointer rounded border bg-gray-50 px-1 py-0.5 text-xs shadow-sm dark:text-gray-800",children:c.name},c.name))," ",(0,i.jsxs)("button",{type:"button",onClick:()=>l(!0),className:"inline-flex items-center rounded-full align-middle hover:bg-gray-300",children:[(0,i.jsx)(Lt,{className:"h-4 w-4"}),(0,i.jsx)("span",{className:"sr-only",children:G.default.i18n.getMessage("more info")})]})]}),(0,i.jsx)(se.Root,{show:g,as:T.Fragment,children:(0,i.jsxs)(ie,{as:"div",className:"relative z-10",initialFocus:f,onClose:()=>{u(!1),d(null)},children:[(0,i.jsx)(se.Child,{as:T.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,i.jsx)("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"})}),(0,i.jsx)("div",{className:"fixed inset-0 z-10 overflow-y-auto",children:(0,i.jsx)("div",{className:"flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0",children:(0,i.jsx)(se.Child,{as:T.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",enterTo:"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 translate-y-0 sm:scale-100",leaveTo:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",children:(0,i.jsxs)(ie.Panel,{className:"relative transform overflow-hidden rounded-lg bg-white px-4 pb-4 pt-5 text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-2xl sm:p-6",children:[(0,i.jsx)("div",{className:"absolute right-0 top-0 hidden pr-4 pt-4 sm:block",children:(0,i.jsx)("button",{type:"button",className:"rounded-md bg-white text-gray-400 hover:text-gray-500",onClick:()=>{u(!1),d(null)},children:(0,i.jsx)(Ze,{className:"h-6 w-6"})})}),n&&(0,i.jsxs)("form",{onSubmit:async c=>{c.preventDefault();let y=new FormData(c.target),N=y.get("title"),_=y.get("description"),I=y.get("question"),K=y.get("systemMessage");if(!N||!I){S.error("Title and question are required");return}if(!Ve.some(J=>I.includes(J.name))){S.error(`Please include at least one placeholder in your question (${Ve.map(J=>J.name).join(", ")})`);return}try{Ft.parse(I)}catch(J){if(J instanceof Error){S.error(`Template Error: ${J.message}`);return}}let $e={...n,title:N,question:I,systemMessage:K};await Te($e),o===n.id&&Ao(I)},className:"space-y-4",children:[(0,i.jsx)("div",{children:(0,i.jsx)(ie.Title,{as:"h3",className:"text-lg font-medium leading-6 text-gray-900",children:t.find(c=>c.id===n.id)?"Edit Prompt":"Add New Prompt"})}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700",children:"Title *"}),(0,i.jsx)("input",{type:"text",name:"title",id:"title",defaultValue:n.title,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm",required:!0})]}),e&&(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{htmlFor:"systemMessage",className:"block text-sm font-medium text-gray-700",children:"System Message"}),(0,i.jsx)("textarea",{name:"systemMessage",id:"systemMessage",rows:4,defaultValue:n.systemMessage,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm"})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{htmlFor:"question",className:"block text-sm font-medium text-gray-700",children:"Question *"}),(0,i.jsx)("textarea",{name:"question",id:"question",rows:8,defaultValue:n.question,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm",required:!0})]}),(0,i.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,i.jsx)("button",{type:"button",className:"inline-flex items-center rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50",onClick:()=>{u(!1),d(null)},children:"Cancel"}),(0,i.jsx)("button",{type:"submit",className:"inline-flex items-center rounded-md border border-transparent bg-primary-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-primary-700",children:"Save Prompt"})]})]})]})})})})]})}),(0,i.jsx)(se.Root,{show:s,as:T.Fragment,children:(0,i.jsxs)(ie,{as:"div",className:"relative z-10",initialFocus:f,onClose:l,children:[(0,i.jsx)(se.Child,{as:T.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,i.jsx)("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"})}),(0,i.jsx)("div",{className:"fixed inset-0 z-10 overflow-y-auto",children:(0,i.jsx)("div",{className:"flex min-h-full items-end justify-center p-4 sm:items-center sm:p-0",children:(0,i.jsx)(se.Child,{as:T.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",enterTo:"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 translate-y-0 sm:scale-100",leaveTo:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",children:(0,i.jsxs)(ie.Panel,{className:"relative transform overflow-hidden rounded-lg bg-white px-4 pb-4 pt-5 text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-lg sm:p-6",children:[(0,i.jsx)("div",{className:"absolute right-0 top-0 hidden pr-4 pt-4 sm:block",children:(0,i.jsxs)("button",{type:"button",className:"rounded-md bg-white text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2",onClick:()=>l(!1),children:[(0,i.jsx)("span",{className:"sr-only",children:"Close"}),(0,i.jsx)(Ze,{className:"h-6 w-6","aria-hidden":"true"})]})}),(0,i.jsx)("div",{children:(0,i.jsxs)("div",{children:[(0,i.jsx)(ie.Title,{as:"h3",className:"text-lg font-medium leading-6 text-gray-900",children:G.default.i18n.getMessage("info")}),(0,i.jsx)("div",{className:"mt-2",children:(0,i.jsxs)("p",{className:"prose prose-sm prose-primary",children:["Every time you click on the extension icon, the active prompt will be processed and sent to"," ",(0,i.jsx)("a",{href:"https://chatgpt.com",target:"_blank",rel:"noreferrer",children:"ChatGPT"})," ","or to the"," ",(0,i.jsx)("a",{href:"https://platform.openai.com/account/api-keys",target:"_blank",rel:"noreferrer",children:"OpenAI API"}),". This extension will extract information from the currently active website and provide these via placeholders.",(0,i.jsx)("h4",{className:"mt-4",children:"Available placeholders"}),(0,i.jsx)("ul",{className:"my-3 list-inside list-disc",children:Ve.map(c=>(0,i.jsxs)("li",{children:[(0,i.jsx)("span",{className:"m-0.5 mr-1 inline-block rounded border bg-gray-50 px-1 py-0.5 text-xs shadow-sm dark:text-gray-800",children:c.name})," ","- ",c.description]},c.name))}),"You need to include at least one placeholder in your question."]})})]})})]})})})})]})})]})}function Ao(e){e.includes("{{SELECTED_LANGUAGE}}")||S.error(()=>(0,i.jsxs)("p",{children:[(0,i.jsx)("strong",{children:"Warning:"})," The question does not include a"," ",(0,i.jsx)("span",{className:"m-0.5 inline-block rounded border bg-gray-50 px-1 py-0.5 text-xs shadow-sm dark:text-gray-800",children:"{{ SELECTED_LANGUAGE }}"})," ","placeholder. This will disable the language selection in the popup."]}),{iconTheme:{primary:"#d97706",secondary:"#fef3c7"}}),e.includes("{{CONTENT}}")&&!e.endsWith("{{CONTENT}}")&&S.error(()=>(0,i.jsxs)("p",{children:[(0,i.jsx)("strong",{children:"Warning:"}),(0,i.jsx)("span",{className:"m-0.5 inline-block rounded border bg-gray-50 px-1 py-0.5 text-xs shadow-sm dark:text-gray-800",children:"{{ CONTENT }}"})," ","placeholder is not positioned at the end. This could cause various problems in answers."]}),{iconTheme:{primary:"#d97706",secondary:"#fef3c7"}})}var ze=m(P());var _e=m(de()),H=m(C());function dt(){let[e,t]=(0,ze.useState)(null);(0,ze.useEffect)(()=>{r()},[]);let r=()=>{_e.default.storage.local.get(["embeddings"]).then(a=>{let s=JSON.stringify(a),n=new TextEncoder().encode(s).length/1048576;t(n)})},o=()=>{_e.default.storage.local.remove("embeddings").then(()=>{r(),S.success("Data cache cleared!")})};return(0,H.jsx)(H.Fragment,{children:e!==null?(0,H.jsxs)("div",{className:"pb-3 pt-1 text-sm",children:[(0,H.jsx)("h3",{className:"block font-medium leading-6 text-gray-900 dark:text-gray-200",children:_e.default.i18n.getMessage("memory")}),(0,H.jsxs)("div",{className:"flex items-center justify-between",children:[(0,H.jsxs)("p",{className:"",children:["Size of Data Cache: ",(0,H.jsxs)("strong",{children:[e.toFixed(2)," MB"]})]}),(0,H.jsx)("button",{className:"mr-1 items-center rounded-md border border-transparent bg-primary-500 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2",onClick:o,children:"Clear"})]})]}):(0,H.jsx)("p",{children:"Calculating size..."})})}var x=m(C());function ut(){return(0,x.jsxs)("div",{className:"container mx-auto text-base",children:[(0,x.jsxs)("main",{className:"mx-auto mt-14 w-[500px] space-y-6",children:[(0,x.jsx)("h1",{className:"text-3xl font-bold tracking-tight",children:le.default.i18n.getMessage("options")}),(0,x.jsxs)("div",{children:[(0,x.jsx)("h2",{className:"mb-3 border-b pb-2 text-lg font-medium leading-6",children:le.default.i18n.getMessage("prompt")}),(0,x.jsx)(lt,{})]}),(0,x.jsxs)("div",{children:[(0,x.jsx)("h2",{className:"mb-3 border-b pb-2 text-lg font-medium leading-6",children:le.default.i18n.getMessage("aiProvider")}),(0,x.jsx)(tt,{})]}),(0,x.jsxs)("div",{children:[(0,x.jsx)("h2",{className:"mb-3 border-b pb-2 text-lg font-medium leading-6",children:le.default.i18n.getMessage("misc")}),(0,x.jsxs)("div",{children:[(0,x.jsx)("h3",{className:"mb-2 block text-sm font-medium leading-6 text-gray-900 dark:text-gray-200",children:le.default.i18n.getMessage("appearance")}),(0,x.jsx)(Ie,{name:"showSummarizeButton"}),(0,x.jsx)(Ie,{name:"showYoutubeButton"})]}),(0,x.jsxs)("div",{children:[(0,x.jsx)("h3",{className:"mb-2 block pt-2 text-sm font-medium leading-6 text-gray-900 dark:text-gray-200",children:le.default.i18n.getMessage("behaviour")}),(0,x.jsx)(Ie,{name:"summarizeFullText",defaultState:!1})]}),(0,x.jsx)("div",{className:"pt-3",children:(0,x.jsx)(dt,{})})]})]}),(0,x.jsx)(pt,{})]})}var yr=m(C()),vr=document.getElementById("app");if(!vr)throw new Error("Failed to find the root element");var Bo=(0,gr.createRoot)(vr);Bo.render((0,yr.jsx)(ut,{}));
